---
title: "CREATE CERTIFICATE (SQL Server PDW)"
ms.custom: na
ms.date: 07/27/2016
ms.reviewer: na
ms.suite: na
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 1695369a-a275-4619-b0f7-56b5d2147f3d
caps.latest.revision: 14
author: BarbKess
---
# CREATE CERTIFICATE (SQL Server PDW)
Adds a certificate to a database in SQL Server PDW. Can only be executed in the master database.  
  
![Topic link icon](../../mpp/sqlpdw/media/Topic_Link.gif "Topic_Link")[Syntax Conventions &#40;SQL Server PDW&#41;](../../mpp/sqlpdw/syntax-conventions-sql-server-pdw.md)  
  
## Syntax  
  
```  
CREATE CERTIFICATE certificate_name   
    { <generate_new_keys> | FROM <existing_keys> }  
    [ ; ]  
  
<generate_new_keys> ::=   
    WITH SUBJECT ='certificate_subject_name'   
    [ , <date_options> [ ,...n ] ]   
  
<existing_keys> ::=   
    {   
      FILE ='path_to_file'  
      WITH PRIVATE KEY   
         (   
           FILE ='path_to_private_key'  
           , DECRYPTION BY PASSWORD ='password'   
         )  
    }  
  
<date_options> ::=  
    START_DATE ='datetime' | EXPIRY_DATE ='datetime'  
```  
  
## Arguments  
*certificate_name*  
Is the name by which the certificate will be known in the database.  
  
FILE ='*path_to_file*'  
Specifies the complete path, including file name, to a DER-encoded file that contains the certificate. *path_to_file* must be a UNC path to a network location. The file will be accessed in the security context of a credential created by using the [sp_pdw_add_network_credentials](../../mpp/sqlpdw/sp-pdw-add-network-credentials-sql-server-pdw.md) statement. This credential account must have the required file-system permissions.  
  
WITH PRIVATE KEY  
Specifies that the private key of the certificate is loaded into SQL Server PDW. This clause is only valid when the certificate is being created from a file.  
  
FILE ='*path_to_private_key*'  
Specifies the complete path, including file name, to the private key. *path_to_private_key* must be a UNC path to a network location. The file will be accessed in the security context of a credential created by using the [sp_pdw_add_network_credentials](../../mpp/sqlpdw/sp-pdw-add-network-credentials-sql-server-pdw.md) statement. This credential account must have the necessary file-system permissions.  
  
DECRYPTION BY PASSWORD ='*key_password*'  
Specifies the password required to decrypt a private key that is retrieved from a file.  
  
SUBJECT ='*certificate_subject_name*'  
The term *subject* refers to a field in the metadata of the certificate as defined in the X.509 standard. The subject can be up to 128 characters long. Subjects that exceed 128 characters will be truncated when they are stored in the catalog, but the binary large object (BLOB) that contains the certificate will retain the full subject name.  
  
START_DATE ='*datetime*'  
Is the date on which the certificate becomes valid. If not specified, START_DATE will be set equal to the current date. START_DATE is in UTC time and can be specified in any format that can be converted to a date and time. Though a valid parameter, start date is ignored for SQL Server PDW TDE.  
  
EXPIRY_DATE ='*datetime*'  
Is the date on which the certificate expires. If not specified, EXPIRY_DATE will be set to a date one year after START_DATE. EXPIRY_DATE is in UTC time and can be specified in any format that can be converted to a date and time. Though a valid parameter, start date is ignored for SQL Server PDW TDE.  
  
## Remarks  
Private keys generated by SQL Server are 1024 bits long. Private keys imported from an external source have a minimum length of 384 bits and a maximum length of 4,096 bits. The length of an imported private key must be an integer multiple of 64 bits.  
  
The private key must correspond to the public key specified by *certificate_name*.  
  
> [!IMPORTANT]  
> Communication traffic between components inside the SQL Server PDW is not encrypted. High privileged users could potentially install network sniffing software to obtain the certificate private and public keys. Mitigate this risk by controlling physical access to the SQL Server PDW.  
  
## Permissions  
Requires **CONTROL SERVER** permission.  
  
## Examples  
  
### A. Creating a self-signed certificate  
The following example creates a certificate called `Shipping04`.  
  
```  
USE master;  
GO  
CREATE CERTIFICATE Shipping04   
   WITH SUBJECT = 'Sammamish Shipping Records';  
GO  
```  
  
### B. Creating a certificate from a file  
The following example creates a certificate in the database, loading the key pair from files.  
  
```  
USE master;  
GO  
CREATE CERTIFICATE Shipping11   
    FROM FILE = '\\Server7A\Shipping\Certs\Shipping11.cer'   
    WITH PRIVATE KEY (FILE = '\\Server7A\Shipping\Certs\Shipping11.pvk',   
    DECRYPTION BY PASSWORD = 'sldkflk34et6gs%53#v00');  
GO  
```  
  
## See Also  
[ALTER CERTIFICATE &#40;SQL Server PDW&#41;](../../mpp/sqlpdw/alter-certificate-sql-server-pdw.md)  
[DROP CERTIFICATE &#40;SQL Server PDW&#41;](../../mpp/sqlpdw/drop-certificate-sql-server-pdw.md)  
[BACKUP CERTIFICATE &#40;SQL Server PDW&#41;](../../mpp/sqlpdw/backup-certificate-sql-server-pdw.md)  
[sys.certificates &#40;SQL Server PDW&#41;](../../mpp/sqlpdw/sys-certificates-sql-server-pdw.md)  
  
